import{r as C,j as e}from"./index-Dt09PZUN.js";import{K as Q}from"./Kriskogram-CGxNq1UF.js";const B={Connecticut:{region:"Northeast",division:"New England"},Maine:{region:"Northeast",division:"New England"},Massachusetts:{region:"Northeast",division:"New England"},"New Hampshire":{region:"Northeast",division:"New England"},"Rhode Island":{region:"Northeast",division:"New England"},Vermont:{region:"Northeast",division:"New England"},"New Jersey":{region:"Northeast",division:"Mid-Atlantic"},"New York":{region:"Northeast",division:"Mid-Atlantic"},Pennsylvania:{region:"Northeast",division:"Mid-Atlantic"},Delaware:{region:"Northeast",division:"Mid-Atlantic"},Maryland:{region:"Northeast",division:"Mid-Atlantic"},Illinois:{region:"Midwest",division:"East North Central"},Indiana:{region:"Midwest",division:"East North Central"},Michigan:{region:"Midwest",division:"East North Central"},Ohio:{region:"Midwest",division:"East North Central"},Wisconsin:{region:"Midwest",division:"East North Central"},Iowa:{region:"Midwest",division:"West North Central"},Kansas:{region:"Midwest",division:"West North Central"},Minnesota:{region:"Midwest",division:"West North Central"},Missouri:{region:"Midwest",division:"West North Central"},Nebraska:{region:"Midwest",division:"West North Central"},"North Dakota":{region:"Midwest",division:"West North Central"},"South Dakota":{region:"Midwest",division:"West North Central"},"District of Columbia":{region:"South",division:"South Atlantic"},Florida:{region:"South",division:"South Atlantic"},Georgia:{region:"South",division:"South Atlantic"},"North Carolina":{region:"South",division:"South Atlantic"},"South Carolina":{region:"South",division:"South Atlantic"},Virginia:{region:"South",division:"South Atlantic"},"West Virginia":{region:"South",division:"South Atlantic"},Alabama:{region:"South",division:"East South Central"},Kentucky:{region:"South",division:"East South Central"},Mississippi:{region:"South",division:"East South Central"},Tennessee:{region:"South",division:"East South Central"},Arkansas:{region:"South",division:"West South Central"},Louisiana:{region:"South",division:"West South Central"},Oklahoma:{region:"South",division:"West South Central"},Texas:{region:"South",division:"West South Central"},Arizona:{region:"West",division:"Mountain"},Colorado:{region:"West",division:"Mountain"},Idaho:{region:"West",division:"Mountain"},Montana:{region:"West",division:"Mountain"},Nevada:{region:"West",division:"Mountain"},"New Mexico":{region:"West",division:"Mountain"},Utah:{region:"West",division:"Mountain"},Wyoming:{region:"West",division:"Mountain"},Alaska:{region:"West",division:"Pacific"},California:{region:"West",division:"Pacific"},Hawaii:{region:"West",division:"Pacific"},Oregon:{region:"West",division:"Pacific"},Washington:{region:"West",division:"Pacific"}},G={Northeast:"#3b82f6",Midwest:"#f59e0b",South:"#ef4444",West:"#10b981"},U={"New England":"#60a5fa","Mid-Atlantic":"#3b82f6","East North Central":"#fbbf24","West North Central":"#f59e0b","South Atlantic":"#f87171","East South Central":"#ef4444","West South Central":"#dc2626",Mountain:"#34d399",Pacific:"#10b981"};function X(h){var A,E;const t=h.trim().split(`
`);if(t.length<4)throw new Error("Invalid CSV format: needs at least 4 lines (3 headers + data)");const m=t[1],j=H(m),p=[];for(let y=7;y<j.length;y+=2){const x=j[y].trim();x&&x!=="Total"&&!x.includes("year ago")&&p.push(x)}const N=[],$=[],f=new Set;for(let y=3;y<t.length;y++){const x=H(t[y]),V=x[0].trim();if(!V||V==="Puerto Rico")continue;const b=Y(V);if(!f.has(b)){f.add(b);const g=B[V];N.push({id:b,label:V,region:g==null?void 0:g.region,division:g==null?void 0:g.division})}let k=0;for(let g=9;g<x.length&&k<p.length;g+=2){const L=p[k];if(!L){k++;continue}const W=Y(L),T=(A=x[g])==null?void 0:A.trim(),M=(E=x[g+1])==null?void 0:E.trim();if(b===W){k++;continue}if(!f.has(W)){f.add(W);const S=B[L];N.push({id:W,label:L,region:S==null?void 0:S.region,division:S==null?void 0:S.division})}if(T&&T!=="N/A"&&T!=="0"){const S=K(T);if(S>0){const u={source:b,target:W,value:S};if(M&&M!=="+/- 0"){const O=K(M.replace("+/- ","").replace("+/-",""));O>0&&(u.moe=O)}$.push(u)}}k++}}return N.sort((y,x)=>y.label.localeCompare(x.label)),{nodes:N,edges:$}}function H(h){const t=[];let m="",j=!1;for(let p=0;p<h.length;p++){const N=h[p];N==='"'?j=!j:N===","&&!j?(t.push(m),m=""):m+=N}return t.push(m),t}function K(h){const t=h.replace(/[",]/g,""),m=Number.parseFloat(t);return Number.isNaN(m)?0:m}function Y(h){return h.trim().replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toUpperCase()}async function ee(h){const t=await fetch(h);if(!t.ok)throw new Error(`Failed to load CSV: ${t.statusText}`);return t.text()}function F(h){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function _(h,t,m){h/=255,t/=255,m/=255;const j=Math.max(h,t,m),p=Math.min(h,t,m);let N=0,$=0;const f=(j+p)/2;if(j!==p){const A=j-p;switch($=f>.5?A/(2-j-p):A/(j+p),j){case h:N=((t-m)/A+(t<m?6:0))/6;break;case t:N=((m-h)/A+2)/6;break;case m:N=((h-t)/A+4)/6;break}}return{h:N*360,s:$*100,l:f*100}}function se({csvUrl:h="/src/data/State_to_State_Migrations_Table_2021.csv"}){const[t,m]=C.useState(null),[j,p]=C.useState(!0),[N,$]=C.useState(null),[f,A]=C.useState(5e3),[E,y]=C.useState(2e5),[x,V]=C.useState(200),[b,k]=C.useState("grayscale"),[g,L]=C.useState("alphabetical"),[W,T]=C.useState(.6),M=C.useRef(null);C.useEffect(()=>{S()},[h]);const S=async()=>{p(!0),$(null);try{const s=await ee(h),l=X(s);m(l)}catch(s){$(s instanceof Error?s.message:"Failed to load CSV data")}finally{p(!1)}},u=t?t.edges.filter(s=>s.value>=f&&s.value<=E).sort((s,l)=>l.value-s.value).slice(0,x):[],O=new Set;for(const s of u)O.add(s.source),O.add(s.target);const z=t?t.nodes.filter(s=>O.has(s.id)):[],P=s=>{const l=Math.min(s,E);if(A(l),M.current&&t){const n=t.edges.filter(i=>i.value>=l&&i.value<=E).sort((i,c)=>c.value-i.value).slice(0,x),r=new Set;for(const i of n)r.add(i.source),r.add(i.target);const a=t.nodes.filter(i=>r.has(i.id));M.current.updateData(a,n)}},Z=s=>{const l=Math.max(s,f);if(y(l),M.current&&t){const n=t.edges.filter(i=>i.value>=f&&i.value<=l).sort((i,c)=>c.value-i.value).slice(0,x),r=new Set;for(const i of n)r.add(i.source),r.add(i.target);const a=t.nodes.filter(i=>r.has(i.id));M.current.updateData(a,n)}},q=s=>{if(V(s),M.current&&t){const l=t.edges.filter(a=>a.value>=f&&a.value<=E).sort((a,i)=>i.value-a.value).slice(0,s),n=new Set;for(const a of l)n.add(a.source),n.add(a.target);const r=t.nodes.filter(a=>n.has(a.id));M.current.updateData(r,l)}};if(j)return e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"text-lg",children:"Loading state migration data..."})});if(N)return e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-red-600",children:["Error: ",N]})});if(!t)return e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"text-gray-500",children:"No data available"})});const J=t.edges.reduce((s,l)=>s+l.value,0)/t.edges.length,R=Math.max(...t.edges.map(s=>s.value));return e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"State-to-State Migration Data (2021)"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Source: U.S. Census Bureau - American Community Survey 1-Year Estimates"}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total States"}),e.jsx("div",{className:"text-2xl font-bold",children:t.nodes.length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Migration Flows"}),e.jsx("div",{className:"text-2xl font-bold",children:t.edges.length.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Visible Nodes"}),e.jsx("div",{className:"text-2xl font-bold",children:z.length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Visible Edges"}),e.jsx("div",{className:"text-2xl font-bold",children:u.length})]})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Arc Color Mode"}),e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"colorMode",value:"grayscale",checked:b==="grayscale",onChange:s=>k(s.target.value),className:"w-4 h-4"}),e.jsx("span",{children:"Grayscale"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"colorMode",value:"region",checked:b==="region",onChange:s=>k(s.target.value),className:"w-4 h-4"}),e.jsx("span",{children:"Region (4 regions)"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"colorMode",value:"division",checked:b==="division",onChange:s=>k(s.target.value),className:"w-4 h-4"}),e.jsx("span",{children:"Division (9 divisions)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Node Ordering (Horizontal Axis)"}),e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"orderMode",value:"alphabetical",checked:g==="alphabetical",onChange:s=>L(s.target.value),className:"w-4 h-4"}),e.jsx("span",{children:"Alphabetical"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"orderMode",value:"region",checked:g==="region",onChange:s=>L(s.target.value),className:"w-4 h-4"}),e.jsx("span",{children:"By Region"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"orderMode",value:"division",checked:g==="division",onChange:s=>L(s.target.value),className:"w-4 h-4"}),e.jsx("span",{children:"By Division"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Minimum Migration Threshold: ",f.toLocaleString()," people"]}),e.jsx("button",{onClick:()=>{P(0),Z(Math.round(R))},className:"text-xs text-blue-600 hover:text-blue-800",children:"Show All"})]}),e.jsxs("div",{className:"relative pt-1",children:[e.jsx("input",{type:"range",min:0,max:2e5,step:1e3,value:f,onChange:s=>P(parseInt(s.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{className:"font-semibold",children:"0"}),e.jsxs("span",{children:["Average: ",Math.round(J).toLocaleString()]}),e.jsx("span",{className:"font-semibold",children:"200,000"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Maximum Migration Threshold: ",E.toLocaleString()," people"]}),e.jsxs("div",{className:"relative pt-1",children:[e.jsx("input",{type:"range",min:0,max:2e5,step:1e3,value:E,onChange:s=>Z(parseInt(s.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{className:"font-semibold",children:"0"}),e.jsxs("span",{children:["Max in data: ",Math.round(R).toLocaleString()]}),e.jsx("span",{className:"font-semibold",children:"200,000"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Max Edges to Display: ",x]}),e.jsxs("div",{className:"relative pt-1",children:[e.jsx("input",{type:"range",min:10,max:500,step:10,value:x,onChange:s=>q(parseInt(s.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{className:"font-semibold",children:"Min: 10"}),e.jsx("span",{children:"250"}),e.jsx("span",{className:"font-semibold",children:"Max: 500"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Arc Opacity: ",Math.round(W*100),"%"]}),e.jsxs("div",{className:"relative pt-1",children:[e.jsx("input",{type:"range",min:0,max:1,step:.05,value:W,onChange:s=>T(parseFloat(s.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{className:"font-semibold",children:"0% (Transparent)"}),e.jsx("span",{children:"50%"}),e.jsx("span",{className:"font-semibold",children:"100% (Opaque)"})]})]})]})]}),e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-white",children:z.length>0&&u.length>0?e.jsxs("div",{children:[e.jsx(Q,{ref:M,nodes:z,edges:u,width:1200,height:700,margin:{top:80,right:40,bottom:120,left:40},arcOpacity:W,accessors:{nodeOrder:s=>g==="region"?`${s.region||"ZZZ"}_${s.label||s.id}`:g==="division"?`${s.division||"ZZZ"}_${s.label||s.id}`:s.label||s.id,nodeColor:()=>"#2563eb",nodeRadius:()=>5,edgeWidth:s=>.5+Math.log(s.value+1)/Math.log(R+1)*(15-.5),edgeColor:s=>{const l=s.value/R,n=b==="division"?[85,55,25]:[85,70,55,40,25],r=1/n.length,a=Math.min(Math.floor(l/r),n.length-1),i=n[a];if(b==="grayscale")return`hsl(0, 0%, ${i}%)`;if(b==="region"){const c=t==null?void 0:t.nodes.find(o=>o.id===s.source),d=t==null?void 0:t.nodes.find(o=>o.id===s.target);if(c!=null&&c.region&&(d!=null&&d.region)&&c.region===d.region){const o=G[c.region],v=F(o);if(v){const w=_(v.r,v.g,v.b);return`hsl(${w.h}, ${w.s}%, ${i}%)`}return o}else return`hsl(0, 0%, ${i}%)`}else{const c=t==null?void 0:t.nodes.find(o=>o.id===s.source),d=t==null?void 0:t.nodes.find(o=>o.id===s.target);if(c!=null&&c.division&&(d!=null&&d.division)&&c.division===d.division){const o=U[c.division],v=F(o);if(v){const w=_(v.r,v.g,v.b);return`hsl(${w.h}, ${w.s}%, ${i}%)`}return o}else return`hsl(0, 0%, ${i}%)`}}}},`kriskogram-${b}-${g}-${W}`),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded",children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Legend"}),b==="grayscale"?e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsx("div",{className:"text-gray-700 font-semibold mb-2",children:"All Flows (grayscale with weight-based luminosity):"}),e.jsx("div",{className:"flex flex-col gap-1",children:(()=>{const s=Math.min(...u.map(a=>a.value)),n=Math.max(...u.map(a=>a.value))-s,r=[85,70,55,40,25];return r.map((a,i)=>{const c=n/r.length,d=Math.round(s+i*c),o=Math.round(s+(i+1)*c);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-3 border border-gray-300",style:{backgroundColor:`hsl(0, 0%, ${a}%)`}}),e.jsxs("span",{className:"text-[10px] text-gray-600",children:[d.toLocaleString()," - ",o.toLocaleString()," people"]})]},i)})})()}),e.jsx("div",{className:"text-gray-600 mt-2",children:"Edge width = log-scaled volume"})]}):b==="region"?e.jsxs("div",{className:"space-y-3 text-xs",children:[e.jsx("div",{className:"text-gray-700 font-semibold",children:"Same-Region Flows (colored by region):"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(G).map(([s,l])=>{const n=F(l),r=n?_(n.r,n.g,n.b):null,a=Math.min(...u.map(o=>o.value)),c=Math.max(...u.map(o=>o.value))-a,d=[85,70,55,40,25];return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:s}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"flex flex-col gap-0.5",children:r&&d.map((o,v)=>{const w=c/d.length,D=Math.round(a+v*w),I=Math.round(a+(v+1)*w);return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-12 h-2",style:{backgroundColor:`hsl(${r.h}, ${r.s}%, ${o}%)`}}),e.jsxs("span",{className:"text-[9px] text-gray-600 whitespace-nowrap",children:[D.toLocaleString(),"-",I.toLocaleString()]})]},v)})})})]},s)})}),e.jsxs("div",{className:"pt-2 border-t border-gray-300",children:[e.jsx("div",{className:"text-gray-700 font-semibold mb-1",children:"Cross-Region Flows (grayscale):"}),e.jsx("div",{className:"flex flex-col gap-1",children:(()=>{const s=Math.min(...u.map(a=>a.value)),n=Math.max(...u.map(a=>a.value))-s,r=[85,55,25];return r.map((a,i)=>{const c=n/r.length,d=Math.round(s+i*c),o=Math.round(s+(i+1)*c);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-12 h-2 border border-gray-300",style:{backgroundColor:`hsl(0, 0%, ${a}%)`}}),e.jsxs("span",{className:"text-[9px] text-gray-600 whitespace-nowrap",children:[d.toLocaleString(),"-",o.toLocaleString()]})]},i)})})()})]})]}):e.jsxs("div",{className:"space-y-3 text-xs",children:[e.jsx("div",{className:"text-gray-700 font-semibold",children:"Same-Division Flows (colored by division):"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(U).map(([s,l])=>{const n=F(l),r=n?_(n.r,n.g,n.b):null,a=Math.min(...u.map(o=>o.value)),c=Math.max(...u.map(o=>o.value))-a,d=[85,55,25];return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium text-[10px]",children:s}),e.jsx("div",{className:"flex flex-col gap-0.5",children:r&&d.map((o,v)=>{const w=c/d.length,D=Math.round(a+v*w),I=Math.round(a+(v+1)*w);return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-6 h-2",style:{backgroundColor:`hsl(${r.h}, ${r.s}%, ${o}%)`}}),e.jsxs("span",{className:"text-[8px] text-gray-600 whitespace-nowrap",children:[D>999?`${Math.round(D/1e3)}k`:D,"-",I>999?`${Math.round(I/1e3)}k`:I]})]},v)})})]},s)})}),e.jsxs("div",{className:"pt-2 border-t border-gray-300",children:[e.jsx("div",{className:"text-gray-700 font-semibold mb-1",children:"Cross-Division Flows (grayscale):"}),e.jsx("div",{className:"flex flex-col gap-1",children:(()=>{const s=Math.min(...u.map(a=>a.value)),n=Math.max(...u.map(a=>a.value))-s,r=[85,55,25];return r.map((a,i)=>{const c=n/r.length,d=Math.round(s+i*c),o=Math.round(s+(i+1)*c);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-12 h-2 border border-gray-300",style:{backgroundColor:`hsl(0, 0%, ${a}%)`}}),e.jsxs("span",{className:"text-[9px] text-gray-600 whitespace-nowrap",children:[d>999?`${Math.round(d/1e3)}k`:d,"-",o>999?`${Math.round(o/1e3)}k`:o]})]},i)})})()})]})]})]})]}):e.jsxs("div",{className:"text-center text-gray-500 py-8",children:["No migration data meets the current threshold range (",f.toLocaleString()," - ",E.toLocaleString(),"). Try adjusting the thresholds."]})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"About This Visualization"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Each state is represented as a node along the baseline"}),e.jsx("li",{children:"• Arcs represent migration flows between states in 2021"}),e.jsx("li",{children:"• Arc thickness indicates migration volume (log-scaled for visibility)"}),e.jsx("li",{children:"• Arc luminosity (darkness) shows migration volume - darker arcs = higher migration"}),e.jsx("li",{children:e.jsx("strong",{children:"Color Modes:"})}),e.jsxs("li",{className:"ml-4",children:["◦ ",e.jsx("strong",{children:"Grayscale:"})," All arcs in grayscale with weight-based luminosity"]}),e.jsxs("li",{className:"ml-4",children:["◦ ",e.jsx("strong",{children:"Region:"})," Same-region migrations colored by 4 U.S. regions (Northeast=Blue, Midwest=Amber, South=Red, West=Green)"]}),e.jsxs("li",{className:"ml-4",children:["◦ ",e.jsx("strong",{children:"Division:"})," Same-division migrations colored by 9 U.S. Census divisions for finer granularity"]}),e.jsx("li",{children:e.jsx("strong",{children:"Node Ordering:"})}),e.jsxs("li",{className:"ml-4",children:["◦ ",e.jsx("strong",{children:"Alphabetical:"})," States sorted A-Z"]}),e.jsxs("li",{className:"ml-4",children:["◦ ",e.jsx("strong",{children:"By Region:"})," States grouped by region (Northeast, Midwest, South, West)"]}),e.jsxs("li",{className:"ml-4",children:["◦ ",e.jsx("strong",{children:"By Division:"})," States grouped by census division (New England, Mid-Atlantic, etc.)"]}),e.jsx("li",{children:"• Use the min/max threshold sliders to focus on a specific range of migration volumes"}),e.jsx("li",{children:"• Adjust max edges to limit visual complexity"}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Arc Opacity slider:"})," Control transparency to see overlapping migration patterns (lower = more transparent)"]})]})]}),e.jsxs("details",{className:"mt-6",children:[e.jsx("summary",{className:"cursor-pointer font-semibold text-gray-900 p-2 bg-gray-100 rounded hover:bg-gray-200",children:"Top 20 Migration Flows"}),e.jsx("div",{className:"mt-2 overflow-auto max-h-96",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"From"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"To"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"Migrants"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"MOE (±)"})]})}),e.jsx("tbody",{children:t.edges.sort((s,l)=>l.value-s.value).slice(0,20).map((s,l)=>{const n=t.nodes.find(a=>a.id===s.source),r=t.nodes.find(a=>a.id===s.target);return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:(n==null?void 0:n.label)||s.source}),e.jsx("td",{className:"px-4 py-2",children:(r==null?void 0:r.label)||s.target}),e.jsx("td",{className:"px-4 py-2 text-right font-mono",children:s.value.toLocaleString()}),e.jsx("td",{className:"px-4 py-2 text-right font-mono text-gray-500",children:s.moe?s.moe.toLocaleString():"-"})]},l)})})]})})]})]})})}function ne(){return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx(se,{})})}export{ne as component};
